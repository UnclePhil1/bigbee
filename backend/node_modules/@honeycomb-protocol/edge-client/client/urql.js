"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createClient = createClient;
const types_1 = require("./types");
const generated_1 = require("./generated");
const core_1 = require("@urql/core");
function createClient(url) {
    const client = new core_1.Client({
        url,
        fetchSubscriptions: true,
        exchanges: [core_1.fetchExchange],
    });
    const requester = async (query, variables, options) => client.query(query, variables || {}, options).then((response) => {
        if (response.error) {
            throw response.error;
        }
        return response.data;
    });
    const sdk = (0, generated_1.getSdk)(requester);
    types_1.sseDependendFuncs.forEach(ixn => {
        delete sdk[ixn];
    });
    return sdk;
}
//# sourceMappingURL=urql.js.map